<script type="text/javascript">
  $(document).ready(function() {
    $("#div_{{ id }}").hide();
  });
  $('#{{ id }}_text').yourlabsTextWidget({
  }).input.bind('selectChoice', function(e, choice, autocomplete) {
    value = $("#div_{{ id }}_text .hilight").attr("data-value");
    $("#{{ id }}").append("<option value='"+value+"' selected='selected'>"+value+"</option>");
    $("#div_{{ id }}_text .controls").prepend(
      "<div id='selected-choice'><button class='btn btn-link remove' data-value="+value+" type='button'><span class='fa fa-times-circle text-muted'></span></button>"
      +$(choice).html()+"</div>"
    );
  });
  $("#div_{{ id }}_text").on("click", ".remove", function() {
    value = $(this).attr("data-value");
    $("#{{ id }} option[value="+value+"]").remove();
    name = $(this).parent().find(".musician-name").text();
    choices = $("#{{ id }}_text").val();
    choices = choices.replace(name, "");
    $("#{{ id }}_text").val(choices);
    $(this).parent().remove()
  });
</script>
