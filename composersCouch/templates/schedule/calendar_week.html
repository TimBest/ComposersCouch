{% extends "schedule/base.html" %}
{% load scheduletags %}


{% block periodName %}
  <span class="hidden-xs">
    {{ period.start|date:"F j" }} - {% ifequal period.end.month period.start.month %}{{ period.end|date:"d" }}{% else %}{{ period.end|date:"F j" }}{% endifequal %}
  </span>
  <span class="visible-xs">
    {{ period.start|date:"M j" }} - {% ifequal period.end.month period.start.month %}{{ period.end|date:"d" }}{% else %}{{ period.end|date:"M j" }}{% endifequal %}
  </span>
{% endblock %}

{% block dropdownTitle %}Week{% endblock %}
{% block weekClass %}active{% endblock %}

{% block body %}
  <div id="week">
    {% for day in period.get_days %}
      <div class="weekday weekday{{forloop.counter}}">
        <div class="weekdaytable">
          {% for event in day.get_event_partials %}
            {% ifequal filter 'shows' %}
              {% include "schedule/_show.html" with show=event.show user_accept=event.approved %}
            {% else %}
              {% include "request/_private_request.html" with request=event.thread.request %}
            {% endifequal %}
          {% empty %}
            <h4 class="text-left">{{ day.start|date:"l" }} the {{ day.start|date:"j" }}:</h4>
            <p class="text-left">No {{ filter }}</p>
          {% endfor %}
        </div>
      </div>
    {% endfor %}
  </div>
{% endblock %}
