{% extends 'form.html' %}
{% load i18n crispy_forms_tags static %}
{% crispy signupForm signupForm.helper %}
{% crispy zipcodeForm zipcodeForm.helper %}
{% crispy emailForm emailForm.helper %}

{% block title %}
  {% block formTitle %}{% trans "Join" %} Composers Couch{% endblock %}
{% endblock %}

{% block headerClass %}authentication{% endblock %}
{% block formID %}sign-up-form{% endblock %}

{% block form %}
  <div class="sign-up">
    {% crispy signupForm %}
    {% crispy zipcodeForm %}
    {% crispy emailForm %}
  </div>
{% endblock %}

{% block submit %}
<button id="sign-up-submit" type="submit" class="btn btn-primary">Sign up</button>
{% endblock %}

{% block script %}
  {{ block.super }}
  <script type="text/javascript">
    $("#sign-up-submit").on('click', function() {
      code = $("#id_zip_code-autocomplete").val();
      $("#id_zip_code").append("<option value='"+code+"' selected='selected'>"+code+"</option>");
    });
  </script>
  <script type="text/javascript" src="{% static 'js/signup.js' %}"></script>

{% endblock %}
