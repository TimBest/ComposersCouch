{% extends 'form.html' %}
{% load crispy_forms_tags %}
{% crispy DateForm DateForm.helper %}
{% crispy MessageForm MessageForm.helper %}
{% crispy RequestForm RequestForm.helper %}
{% crispy ParticipantForm ParticipantForm.helper %}


{% block title %}{% block formTitle %}Send Request{% endblock %}{% endblock %}

{% block formID %}privateRequestForm{% endblock %}

{% block form %}
  {% crispy dateForm %}
  <label>Artists*</label>
  {{ ArtistFormset.management_form|crispy }}
  {% if ArtistFormset.non_form_errors %}
    <div class="alert alert-danger" role="alert">
      {{ ArtistFormset.non_form_errors }}
    </div>
  {% endif %}
  {% for form in ArtistFormset %}
    {% crispy form %}
  {% endfor %}
  <label>Host*</label>
  {% crispy hostForm %}
  {% crispy requestForm %}
  {% crispy messageForm %}
{% endblock %}

{% block submit %}<button type="submit" class="btn btn-primary">Send</button>{% endblock %}

{% block script %}
  {{ block.super }}
  <script type="text/javascript">
    $(function () {
        $('#id_start_0').datetimepicker({pickTime: false});
        $('#id_start_1').datetimepicker({pickDate: false});
        $('#id_end_0').datetimepicker({pickTime: false});
        $('#id_end_1').datetimepicker({pickDate: false});
        $('#id_accept_by').datetimepicker({pickTime: false});
    });
  </script>
  {% include "utils/_request_participant_script.html" with email_div='#div_id_email' user_div='#div_id_user' %}
  {% include "utils/_request_participant_script.html" with email_div='#div_id_form-0-email' user_div='#div_id_form-0-user' %}
  {% include "utils/_request_participant_script.html" with email_div='#div_id_form-1-email' user_div='#div_id_form-1-user' %}
  {% include "utils/_request_participant_script.html" with email_div='#div_id_form-2-email' user_div='#div_id_form-2-user' %}

{% endblock %}
